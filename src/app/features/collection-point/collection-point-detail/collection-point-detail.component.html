<div class="collection-point-detail-page">
  <div class="detail-content">

    <!-- Header Section -->
    <div class="header-section">
      <h2>รายละเอียดจุดเก็บขยะ</h2>
      <p>ข้อมูลรายละเอียดของจุดเก็บขยะ</p>
    </div>

    @if (loading()) {
    <!-- Skeleton Loading -->
    <div class="skeleton-container">
      <div class="skeleton-image"></div>
      <div class="skeleton-info">
        <div class="skeleton-line w-60"></div>
        <div class="skeleton-line w-40"></div>
        <div class="skeleton-line w-80"></div>
        <div class="skeleton-line w-50"></div>
      </div>
    </div>
    } @else if (point()) {

    <!-- Point Image & Badge -->
    <div class="point-hero">
      <div class="point-image-wrapper">
        @if (point()!.image) {
        <img [src]="point()!.image" alt="จุดเก็บขยะ" class="point-image" />
        } @else {
        <div class="point-image-placeholder">
          <mat-icon>location_on</mat-icon>
        </div>
        }
      </div>

      <div class="point-badge">
        <span class="point-name">{{ point()!.name }}</span>
        <span class="status-badge" [class.active]="point()!.status.toLowerCase() === 'active'"
          [class.inactive]="point()!.status.toLowerCase() === 'inactive'">
          <span class="dot"></span>
          {{ statusLabel(point()!.status) }}
        </span>
      </div>
    </div>

    <!-- Location Info -->
    <div class="info-section">
      <h3 class="section-title">ตำแหน่งที่อยู่</h3>
      <div class="info-grid">
        <div class="info-item full">
          <span class="info-label">ที่อยู่</span>
          <span class="info-value">{{ point()!.address || "-" }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">ละติจูด</span>
          <span class="info-value">{{ point()!.latitude }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">ลองจิจูด</span>
          <span class="info-value">{{ point()!.longitude }}</span>
        </div>
      </div>
    </div>

    <!-- Capacity Section -->
    <div class="info-section">
      <h3 class="section-title">ความจุถังขยะ</h3>
      <div class="capacity-cards">
        <div class="capacity-card regular">
          <mat-icon>delete</mat-icon>
          <div class="capacity-info">
            <span class="capacity-label">ขยะทั่วไป</span>
            <span class="capacity-value">{{ point()!.regular_capacity }} <small>Kg.</small></span>
          </div>
        </div>
        <div class="capacity-card recycle">
          <mat-icon>recycling</mat-icon>
          <div class="capacity-info">
            <span class="capacity-label">ขยะรีไซเคิล</span>
            <span class="capacity-value">{{ point()!.recycle_capacity }} <small>Kg.</small></span>
          </div>
        </div>
      </div>
    </div>

    <!-- Problem Section -->
    @if (point()!.problem_reported) {
    <div class="info-section">
      <h3 class="section-title warning">
        <mat-icon>warning</mat-icon>
        หมายเหตุปัญหา
      </h3>
      <p class="problem-text">{{ point()!.problem_reported }}</p>
    </div>
    }

    <!-- Update Info -->
    <div class="update-info">
      <mat-icon>schedule</mat-icon>
      <span>แก้ไขล่าสุด: {{ formatDate(point()!.updated_at) }}</span>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button mat-flat-button class="edit-btn" (click)="goEdit()">
        <mat-icon>edit</mat-icon>
        แก้ไขข้อมูล
      </button>
      <button mat-stroked-button class="delete-btn">
        <mat-icon>block</mat-icon>
        ปิดใช้งาน
      </button>
    </div>

    }
  </div>
</div>